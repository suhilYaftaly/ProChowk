datasource db {
    provider = "mongodb"
    url      = env("MONGODB_URI")
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id                String             @id @default(auto()) @map("_id") @db.ObjectId
    name              String
    email             String             @unique
    emailVerified     Boolean            @default(false)
    image             Json?
    roles             Json?
    password          String?
    createdAt         DateTime           @default(now())
    updatedAt         DateTime           @updatedAt
    token             String?            @unique
    provider          String
    phoneNum          String?
    address           Json?
    bio               String?
    userType          Json?
    contractorProfile ContractorProfile?
    jobs              Jobs[]
}

model ContractorProfile {
    id        String   @id @default(auto()) @map("_id") @db.ObjectId
    skills    Json?
    licenses  Json?
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    user      User     @relation(fields: [userId], references: [id])
    userId    String   @unique @db.ObjectId
    userEmail String
}

model DataList {
    id   String @id @default(auto()) @map("_id") @db.ObjectId
    type String @unique
    data Json
}

model Jobs {
    id        String   @id @default(auto()) @map("_id") @db.ObjectId
    title     String
    desc      String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    jobSize   String
    skills    Json
    budget    Json
    address   Json
    images    Json?
    user      User     @relation(fields: [userId], references: [id])
    userId    String   @db.ObjectId
    userEmail String
}
